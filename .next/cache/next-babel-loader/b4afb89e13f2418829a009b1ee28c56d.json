{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/msi/hello-next/components/SphereSlider/SphereSlider.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fragmentSrc from './fragment.glsl';\nimport textVertex from './vertex.glsl';\nimport { jsImageCover } from './jsImageCover'; // import img1 from '../../public/1.jpg';\n// import img2 from './2.jpg';\n// import PixiImage from './PixiImage';\n// import TRYGalien from './TRYGalien.woff2';\n\nexport default class SphereSlider extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (e.key === 'ArrowUp') {\n        console.log('ArrowUp');\n      }\n\n      if (e.key === 'ArrowDown') {\n        console.log('ArrowDown');\n      }\n    });\n\n    _defineProperty(this, \"handleMouseMove\", e => {\n      this.rect.containse(clientX, e.clientY);\n      this.mouse.x = e.clientX / window.innerWidth * 2 - 1;\n      this.mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\n    });\n\n    _defineProperty(this, \"animate\", () => {\n      this.sprite.x = this.config.x;\n      this.sprite.y = this.config.y;\n      this.custumSmoothScrollFilter.uniforms.blend = this.config.blend;\n      requestAnimationFrame(this.animate);\n    });\n  }\n\n  componentDidMount() {\n    // console.log(img1);\n    this.mouse = {\n      x: 0,\n      y: 0\n    };\n    this.PIXI = require('pixi.js');\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.app = new this.PIXI.Application({\n      width: this.width,\n      height: this.height,\n      transparent: true,\n      autoResize: true,\n      resizeTo: window,\n      resolution: 1\n    });\n    this.config = {\n      x: this.width / 2,\n      y: this.height / 2,\n      blend: 0\n    };\n    this.container = new this.PIXI.Container();\n    this.sprite = new this.PIXI.Sprite(this.PIXI.Texture.from('/1.jpg'));\n    this.sprite.anchor.set(0.5, 0.5);\n    this.sprite.x = this.config.x;\n    this.sprite.y = this.config.y;\n    this.sprite.width = jsImageCover(this.sprite, 400, 550).width;\n    this.sprite.height = jsImageCover(this.sprite, 400, 550).height;\n    this.container.addChild(this.sprite);\n    this.rect = new this.PIXI.Rectangle(0, 0, this.width, this.height);\n    this.container.addChild(this.rect);\n    this.custumSmoothScrollFilter = new this.PIXI.Filter(null, fragmentSrc, {\n      blend: this.config.blend\n    });\n    this.container.filters = [this.custumSmoothScrollFilter];\n    this.canvas.appendChild(this.app.view);\n    this.app.stage.addChild(this.container);\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('keydown', this.handleKeyDown);\n    this.animate(); // GUI //\n\n    this.dat = require('dat.gui');\n    this.gui = new this.dat.GUI();\n    this.gui.remember(this.config);\n    this.gui.add(this.config, 'blend').min(0).max(1).step(0.001);\n    ;\n    this.gui.add(this.config, 'x').min(-this.width).max(this.width * 2).step(1);\n    this.gui.add(this.config, 'y').min(-this.height).max(this.height * 2).step(1); // GUI //\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      ref: node => {\n        this.canvas = node;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/msi/hello-next/components/SphereSlider/SphereSlider.js"],"names":["fragmentSrc","textVertex","jsImageCover","SphereSlider","React","PureComponent","e","key","console","log","rect","containse","clientX","clientY","mouse","x","window","innerWidth","y","innerHeight","sprite","config","custumSmoothScrollFilter","uniforms","blend","requestAnimationFrame","animate","componentDidMount","PIXI","require","width","height","app","Application","transparent","autoResize","resizeTo","resolution","container","Container","Sprite","Texture","from","anchor","set","addChild","Rectangle","Filter","filters","canvas","appendChild","view","stage","addEventListener","handleMouseMove","handleKeyDown","dat","gui","GUI","remember","add","min","max","step","render","node"],"mappings":"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","sourcesContent":["import fragmentSrc from './fragment.glsl'\nimport textVertex from './vertex.glsl';\nimport { jsImageCover } from './jsImageCover';\n// import img1 from '../../public/1.jpg';\n// import img2 from './2.jpg';\n// import PixiImage from './PixiImage';\n\n// import TRYGalien from './TRYGalien.woff2';\n\nexport default class SphereSlider extends React.PureComponent {\n  componentDidMount() {\n    // console.log(img1);\n    \n    this.mouse = {\n      x: 0,\n      y: 0,\n    };\n    this.PIXI = require('pixi.js');\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.app = new this.PIXI.Application({\n      width: this.width,\n      height: this.height,\n      transparent: true,\n      autoResize: true,\n      resizeTo: window,\n      resolution: 1,\n    });\n\n    this.config = {\n      x: this.width / 2,\n      y: this.height / 2,\n      blend: 0,\n    };\n\n    this.container = new this.PIXI.Container();\n    this.sprite = new this.PIXI.Sprite(this.PIXI.Texture.from('/1.jpg'));\n    this.sprite.anchor.set(0.5, 0.5);\n    this.sprite.x = this.config.x;\n    this.sprite.y = this.config.y;\n    this.sprite.width = jsImageCover(this.sprite, 400, 550).width;\n    this.sprite.height = jsImageCover(this.sprite, 400, 550).height;\n\n    this.container.addChild(this.sprite);\n    this.rect = new this.PIXI.Rectangle(0, 0, this.width, this.height);\n    this.container.addChild(this.rect);\n\n    this.custumSmoothScrollFilter = new this.PIXI.Filter(null, fragmentSrc, {\n      blend:this.config.blend,\n    });\n\n    this.container.filters = [this.custumSmoothScrollFilter];\n\n    this.canvas.appendChild(this.app.view);\n\n    this.app.stage.addChild(this.container);\n\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('keydown', this.handleKeyDown);\n    this.animate();\n\n    // GUI //\n  \n    this.dat = require('dat.gui');\n    this.gui = new this.dat.GUI();\n    this.gui.remember(this.config);\n    this.gui.add(this.config, 'blend').min(0).max(1).step(0.001);;\n    this.gui.add(this.config, 'x').min(-this.width).max(this.width * 2).step(1);\n    this.gui.add(this.config, 'y').min(-this.height).max(this.height * 2).step(1);\n\n    // GUI //\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === 'ArrowUp') {\n      console.log('ArrowUp');      \n    }\n    if (e.key === 'ArrowDown') {\n      console.log('ArrowDown');\n    }\n    \n  }\n\n  handleMouseMove = (e) => {\n    this.rect.containse(clientX, e.clientY);\n    this.mouse.x = ( e.clientX / window.innerWidth ) * 2 - 1;\n\t  this.mouse.y = - ( e.clientY / window.innerHeight ) * 2 + 1;\n  }\n\n  animate = () => {\n    this.sprite.x = this.config.x;\n    this.sprite.y = this.config.y;\n    this.custumSmoothScrollFilter.uniforms.blend = this.config.blend;\n    requestAnimationFrame( this.animate );\n  }\n  \n  render() {\n    return (\n      <div ref={(node) => { this.canvas = node}} />\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}