{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/msi/hello-next/components/SphereSlider/SphereSlider.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fragmentSrc from './fragment.glsl';\nimport textVertex from './vertex.glsl';\nimport { jsImageCover } from './jsImageCover';\nimport gsap from 'gsap';\n\nvar SphereSlider =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SphereSlider, _React$PureComponent);\n\n  function SphereSlider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SphereSlider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SphereSlider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAnimateUp\", function () {\n      gsap.fromTo(_this.config, {\n        offset: 0 // blend: 0,\n\n      }, {\n        offset: 1,\n        // blend: 1,\n        duration: 5\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAnimateDown\", function () {\n      gsap.fromTo(_this.config, {\n        offset: 0 // blend: 0,\n\n      }, {\n        offset: -1,\n        // blend: 1,\n        duration: 5\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      if (e.key === 'ArrowUp') {\n        _this.handleAnimateUp();\n\n        console.log('ArrowUp');\n      }\n\n      if (e.key === 'ArrowDown') {\n        _this.handleAnimateDown();\n\n        console.log('ArrowDown');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n      // this.rect.containse(clientX, e.clientY);\n      _this.mouse.x = e.clientX / window.innerWidth * 2 - 1;\n      _this.mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function () {\n      _this.sprite.x = _this.config.x;\n      _this.sprite.y = _this.config.y;\n      _this.custumSmoothScrollFilter.uniforms.blend = _this.config.blend;\n      _this.custumSmoothScrollFilter.uniforms.offset = _this.config.offset;\n      requestAnimationFrame(_this.animate);\n    });\n\n    return _this;\n  }\n\n  _createClass(SphereSlider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log(img1);\n      this.mouse = {\n        x: 0,\n        y: 0\n      };\n      this.PIXI = require('pixi.js');\n      this.width = window.innerWidth;\n      this.height = window.innerHeight;\n      this.app = new this.PIXI.Application({\n        width: this.width,\n        height: this.height,\n        transparent: true,\n        autoResize: true,\n        resizeTo: window,\n        resolution: 1\n      });\n      this.config = {\n        x: this.width / 2,\n        y: this.height / 2,\n        blend: 0,\n        offset: 0\n      };\n      this.container = new this.PIXI.Container();\n      this.sprite = new this.PIXI.Sprite(this.PIXI.Texture.from('/1.jpg'));\n      this.sprite.anchor.set(0.5, 0.5);\n      this.sprite.x = this.config.x;\n      this.sprite.y = this.config.y;\n      this.sprite.width = jsImageCover(this.sprite, 400, 550).width;\n      this.sprite.height = jsImageCover(this.sprite, 400, 550).height; // this.rect = new this.PIXI.Rectangle(0, 0, this.width, this.height);\n\n      this.graphics = new this.PIXI.Graphics(); // Rectangle\n\n      this.graphics.alpha = 0;\n      this.graphics.beginFill(0xDE3249);\n      this.graphics.drawRect(0, 0, this.width, this.height);\n      this.graphics.endFill();\n      this.container.addChild(this.graphics);\n      this.container.addChild(this.sprite);\n      this.custumSmoothScrollFilter = new this.PIXI.Filter(null, fragmentSrc, {\n        blend: this.config.blend\n      });\n      this.container.filters = [this.custumSmoothScrollFilter];\n      this.canvas.appendChild(this.app.view);\n      this.app.stage.addChild(this.container);\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('keydown', this.handleKeyDown);\n      this.animate(); // GUI //\n\n      this.dat = require('dat.gui');\n      this.gui = new this.dat.GUI();\n      this.gui.remember(this.config);\n      this.gui.add(this.config, 'blend').min(-1).max(1).step(0.001);\n      ;\n      this.gui.add(this.config, 'offset').min(-1).max(1).step(0.001);\n      ;\n      this.gui.add(this.config, 'x').min(-this.width).max(this.width * 2).step(1);\n      this.gui.add(this.config, 'y').min(-this.height).max(this.height * 2).step(1); // GUI //\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        ref: function ref(node) {\n          _this2.canvas = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return SphereSlider;\n}(React.PureComponent);\n\nexport { SphereSlider as default };","map":{"version":3,"sources":["/Users/msi/hello-next/components/SphereSlider/SphereSlider.js"],"names":["fragmentSrc","textVertex","jsImageCover","gsap","SphereSlider","fromTo","config","offset","duration","e","key","handleAnimateUp","console","log","handleAnimateDown","mouse","x","clientX","window","innerWidth","y","clientY","innerHeight","sprite","custumSmoothScrollFilter","uniforms","blend","requestAnimationFrame","animate","PIXI","require","width","height","app","Application","transparent","autoResize","resizeTo","resolution","container","Container","Sprite","Texture","from","anchor","set","graphics","Graphics","alpha","beginFill","drawRect","endFill","addChild","Filter","filters","canvas","appendChild","view","stage","addEventListener","handleMouseMove","handleKeyDown","dat","gui","GUI","remember","add","min","max","step","node","React","PureComponent"],"mappings":"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","sourcesContent":["import fragmentSrc from './fragment.glsl'\nimport textVertex from './vertex.glsl';\nimport { jsImageCover } from './jsImageCover';\nimport gsap from 'gsap';\n\nexport default class SphereSlider extends React.PureComponent {\n  componentDidMount() {\n    // console.log(img1);\n    \n    this.mouse = {\n      x: 0,\n      y: 0,\n    };\n    this.PIXI = require('pixi.js');\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.app = new this.PIXI.Application({\n      width: this.width,\n      height: this.height,\n      transparent: true,\n      autoResize: true,\n      resizeTo: window,\n      resolution: 1,\n    });\n\n    this.config = {\n      x: this.width / 2,\n      y: this.height / 2,\n      blend: 0,\n      offset: 0,\n    };\n\n    this.container = new this.PIXI.Container();\n    this.sprite = new this.PIXI.Sprite(this.PIXI.Texture.from('/1.jpg'));\n    this.sprite.anchor.set(0.5, 0.5);\n    this.sprite.x = this.config.x;\n    this.sprite.y = this.config.y;\n    this.sprite.width = jsImageCover(this.sprite, 400, 550).width;\n    this.sprite.height = jsImageCover(this.sprite, 400, 550).height;\n\n    // this.rect = new this.PIXI.Rectangle(0, 0, this.width, this.height);\n    this.graphics = new this.PIXI.Graphics();\n\n    // Rectangle\n    this.graphics.alpha = 0;\n    this.graphics.beginFill(0xDE3249);\n    this.graphics.drawRect(0, 0, this.width, this.height);\n    this.graphics.endFill();\n\n    this.container.addChild(this.graphics);\n\n    \n    this.container.addChild(this.sprite);\n\n    this.custumSmoothScrollFilter = new this.PIXI.Filter(null, fragmentSrc, {\n      blend:this.config.blend,\n    });\n\n    this.container.filters = [this.custumSmoothScrollFilter];\n\n    this.canvas.appendChild(this.app.view);\n\n    this.app.stage.addChild(this.container);\n\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('keydown', this.handleKeyDown);\n    this.animate();\n\n    // GUI //\n  \n    this.dat = require('dat.gui');\n    this.gui = new this.dat.GUI();\n    this.gui.remember(this.config);\n    this.gui.add(this.config, 'blend').min(-1).max(1).step(0.001);;\n    this.gui.add(this.config, 'offset').min(-1).max(1).step(0.001);;\n    this.gui.add(this.config, 'x').min(-this.width).max(this.width * 2).step(1);\n    this.gui.add(this.config, 'y').min(-this.height).max(this.height * 2).step(1);\n\n    // GUI //\n  }\n\n  handleAnimateUp = () => {\n    gsap.fromTo(this.config,\n      {\n        offset: 0,\n        // blend: 0,\n      },\n      {\n        offset: 1,\n        // blend: 1,\n        duration: 5,\n      }\n    );\n  }\n\n  handleAnimateDown = () => {\n    gsap.fromTo(this.config,\n      {\n        offset: 0,\n        // blend: 0,\n      },\n      {\n        offset: -1,\n        // blend: 1,\n        duration: 5,\n      }\n    );\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === 'ArrowUp') {\n      this.handleAnimateUp();\n      console.log('ArrowUp');      \n    }\n    if (e.key === 'ArrowDown') {\n      this.handleAnimateDown();\n      console.log('ArrowDown');\n    }\n    \n  }\n\n  handleMouseMove = (e) => {\n    // this.rect.containse(clientX, e.clientY);\n    this.mouse.x = ( e.clientX / window.innerWidth ) * 2 - 1;\n\t  this.mouse.y = - ( e.clientY / window.innerHeight ) * 2 + 1;\n  }\n\n  animate = () => {\n    this.sprite.x = this.config.x;\n    this.sprite.y = this.config.y;\n    this.custumSmoothScrollFilter.uniforms.blend = this.config.blend;\n    this.custumSmoothScrollFilter.uniforms.offset = this.config.offset;\n    requestAnimationFrame( this.animate );\n  }\n  \n  render() {\n    return (\n      <div ref={(node) => { this.canvas = node}} />\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}