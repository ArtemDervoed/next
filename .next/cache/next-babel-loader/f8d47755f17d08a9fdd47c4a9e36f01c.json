{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport { Expo, TweenMax } from 'gsap';\nimport PIXI from 'pixi.js';\nimport { jsImageCover } from 'utils/jsImageCover';\nimport ImageBehaviour from './ImageBehaviour';\nimport Mask from './Mask';\n\nvar PixiImage =\n/*#__PURE__*/\nfunction (_PIXI$Container) {\n  _inherits(PixiImage, _PIXI$Container);\n\n  function PixiImage(texture, opt) {\n    var _this;\n\n    _classCallCheck(this, PixiImage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PixiImage).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"addRotate\", function (angle) {\n      _this.angleT += angle;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getWidth\", function () {\n      return _this.mask.width;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getheight\", function () {\n      return _this.mask.height;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSize\", function (widthNew, heightNew) {\n      var _jsImageCover = jsImageCover(_this.sprite, widthNew, heightNew),\n          width = _jsImageCover.width,\n          height = _jsImageCover.height;\n\n      _this.sprite.width = width;\n      _this.sprite.height = height;\n\n      _this.mask.setSize(widthNew, heightNew);\n\n      _this.opt.width = widthNew;\n      _this.opt.height = heightNew;\n\n      _this.mask.renderMask();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSizeWithAnimation\", function (widthNew, heightNew, duration) {\n      var _jsImageCover2 = jsImageCover(_this.sprite, widthNew, heightNew),\n          width = _jsImageCover2.width,\n          height = _jsImageCover2.height;\n\n      TweenMax.to(_this.sprite, duration, {\n        width: width,\n        height: height,\n        ease: Expo.easeInOut\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPosition\", function (x, y) {\n      _this.sprite.x = x;\n      _this.sprite.y = y;\n      _this.opt.x = x;\n      _this.opt.y = y;\n\n      _this.mask.setPosition(x, y);\n\n      _this.mask.renderMask();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setNewTexture\", function (url) {\n      _this.textureTemp = url;\n      _this.sprite = PIXI.Sprite.from(_this.textureTemp);\n\n      _this.sprite.anchor.set(_this.opt.anchorX, _this.opt.anchorY);\n\n      _this.sprite.x = _this.opt.x;\n      _this.sprite.y = _this.opt.y;\n\n      var _jsImageCover3 = jsImageCover(_this.sprite, _this.opt.width, _this.opt.height),\n          width = _jsImageCover3.width,\n          height = _jsImageCover3.height;\n\n      _this.sprite.width = width;\n      _this.sprite.height = height;\n      _this.imageBehaviour = new ImageBehaviour(_this.sprite, _assertThisInitialized(_this));\n\n      _this.removeChildAt(1);\n\n      _this.addChild(_this.sprite);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSizeMaskWithAnimation\", function (newWidth, newHeight, duration) {\n      _this.mask.setSizeMaskWithAnimation(newWidth, newHeight, duration);\n\n      _this.setSizeWithAnimation(newWidth, newHeight, duration);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hide\", function (duration) {\n      _this.imageBehaviour.hide(duration);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideWithDisplacement\", function (duration, callback, isFrom) {\n      _this.imageBehaviour.hideWithDisplacement(duration, callback, isFrom);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideFilter\", function (filterName, duration) {\n      _this.imageBehaviour.hideFilter(filterName, duration);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMask\", function () {\n      _this.mask.removeMask();\n    });\n\n    _this.opt = opt;\n    _this.textureTemp = texture;\n    _this.sprite = PIXI.Sprite.from(_this.textureTemp);\n\n    _this.sprite.anchor.set(_this.opt.anchorX, _this.opt.anchorY);\n\n    _this.sprite.x = _this.opt.x;\n    _this.sprite.y = _this.opt.y;\n\n    var _jsImageCover4 = jsImageCover(_this.sprite, _this.opt.width, _this.opt.height),\n        _width = _jsImageCover4.width,\n        _height = _jsImageCover4.height;\n\n    _this.sprite.width = _width;\n    _this.sprite.height = _height;\n    _this.filtersTemp = _this.opt.filters || [];\n    _this.angleT = 0;\n    _this.mask = new Mask(_this.sprite, {\n      x: _this.opt.x,\n      y: _this.opt.y,\n      width: _this.opt.width,\n      height: _this.opt.height,\n      anchorX: _this.opt.anchorX,\n      anchorY: _this.opt.anchorY\n    });\n\n    _this.mask.renderMask();\n\n    _this.addChild(_this.mask);\n\n    _this.imageBehaviour = new ImageBehaviour(_this.sprite, _assertThisInitialized(_this));\n\n    _this.addChild(_this.sprite);\n\n    return _this;\n  }\n\n  return PixiImage;\n}(PIXI.Container);\n\nexport { PixiImage as default };","map":{"version":3,"sources":["/Users/msi/hello-next/components/SphereSlider/PixiImage.js"],"names":["Expo","TweenMax","PIXI","jsImageCover","ImageBehaviour","Mask","PixiImage","texture","opt","angle","angleT","mask","width","height","widthNew","heightNew","sprite","setSize","renderMask","duration","to","ease","easeInOut","x","y","setPosition","url","textureTemp","Sprite","from","anchor","set","anchorX","anchorY","imageBehaviour","removeChildAt","addChild","newWidth","newHeight","setSizeMaskWithAnimation","setSizeWithAnimation","hide","callback","isFrom","hideWithDisplacement","filterName","hideFilter","removeMask","filtersTemp","filters","Container"],"mappings":"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","sourcesContent":["import { Expo, TweenMax } from 'gsap';\nimport PIXI from 'pixi.js';\nimport { jsImageCover } from 'utils/jsImageCover';\nimport ImageBehaviour from './ImageBehaviour';\nimport Mask from './Mask';\n\nexport default class PixiImage extends PIXI.Container {\n  constructor(texture, opt) {\n    super();\n    this.opt = opt;\n    this.textureTemp = texture;\n    this.sprite = PIXI.Sprite.from(this.textureTemp);\n    this.sprite.anchor.set(this.opt.anchorX, this.opt.anchorY);\n    this.sprite.x = this.opt.x;\n    this.sprite.y = this.opt.y;\n    const { width, height } = jsImageCover(this.sprite, this.opt.width, this.opt.height);\n    this.sprite.width = width;\n    this.sprite.height = height;\n    this.filtersTemp = this.opt.filters || [];\n    this.angleT = 0;\n    this.mask = new Mask(this.sprite, {\n      x: this.opt.x,\n      y: this.opt.y,\n      width: this.opt.width,\n      height: this.opt.height,\n      anchorX: this.opt.anchorX,\n      anchorY: this.opt.anchorY,\n    });\n    this.mask.renderMask();\n    this.addChild(this.mask);\n    this.imageBehaviour = new ImageBehaviour(this.sprite, this);\n    this.addChild(this.sprite);\n  }\n\n  addRotate = (angle) => {\n    this.angleT += angle;\n  };\n\n  getWidth = () => {\n    return this.mask.width;\n  }\n\n  getheight = () => {\n    return this.mask.height;\n  }\n\n  setSize = (widthNew, heightNew) => {\n    const { width, height } = jsImageCover(this.sprite, widthNew, heightNew);\n    this.sprite.width = width;\n    this.sprite.height = height;\n    this.mask.setSize(widthNew, heightNew);\n    this.opt.width = widthNew;\n    this.opt.height = heightNew;\n    this.mask.renderMask();\n  };\n\n  setSizeWithAnimation = (widthNew, heightNew, duration) => {\n    const { width, height } = jsImageCover(this.sprite, widthNew, heightNew);\n\n    TweenMax.to(\n      this.sprite,\n      duration,\n      {\n        width,\n        height,\n        ease: Expo.easeInOut,\n      }\n    );\n  };\n\n  setPosition = (x, y) => {\n    this.sprite.x = x;\n    this.sprite.y = y;\n    this.opt.x = x;\n    this.opt.y = y;\n    this.mask.setPosition(x, y);\n    this.mask.renderMask();\n  };\n\n  setNewTexture = (url) => {\n    this.textureTemp = url;\n    this.sprite = PIXI.Sprite.from(this.textureTemp);\n    this.sprite.anchor.set(this.opt.anchorX, this.opt.anchorY);\n    this.sprite.x = this.opt.x;\n    this.sprite.y = this.opt.y;\n    const { width, height } = jsImageCover(this.sprite, this.opt.width, this.opt.height);\n    \n    this.sprite.width = width;\n    this.sprite.height = height;\n    this.imageBehaviour = new ImageBehaviour(this.sprite, this);\n    this.removeChildAt(1);\n    this.addChild(this.sprite);\n  }\n\n  setSizeMaskWithAnimation = (newWidth, newHeight, duration) => {\n    this.mask.setSizeMaskWithAnimation(newWidth, newHeight, duration);\n    this.setSizeWithAnimation(newWidth, newHeight, duration);\n  };\n\n  hide = (duration) => {\n    this.imageBehaviour.hide(duration);\n  };\n\n  hideWithDisplacement = (duration, callback, isFrom) => {\n    this.imageBehaviour.hideWithDisplacement(duration, callback, isFrom);\n  };\n\n  hideFilter = (filterName, duration) => {\n    this.imageBehaviour.hideFilter(filterName, duration);\n  };\n\n  removeMask = () => {\n    this.mask.removeMask();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}