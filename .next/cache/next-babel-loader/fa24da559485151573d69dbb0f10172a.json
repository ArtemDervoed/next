{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fragmentSrc from './fragment.glsl';\nimport textVertex from './vertex.glsl';\nimport { jsImageCover } from './jsImageCover';\nimport gsap from 'gsap';\n\nvar SphereSlider =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SphereSlider, _React$PureComponent);\n\n  function SphereSlider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SphereSlider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SphereSlider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAnimateUp\", function () {\n      gsap.fromTo(_this.config, {\n        offset: 0 // blend: 0,\n\n      }, {\n        offset: 1,\n        // blend: 1,\n        duration: _this.config.duration,\n        ease: \"power2\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAnimateDown\", function () {\n      gsap.fromTo(_this.config, {\n        offset: 0 // blend: 0,\n\n      }, {\n        offset: -1,\n        // blend: 1,\n        duration: _this.config.duration,\n        ease: \"power2\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      if (e.key === 'ArrowUp') {\n        _this.handleAnimateUp();\n\n        console.log('ArrowUp');\n      }\n\n      if (e.key === 'ArrowDown') {\n        _this.handleAnimateDown();\n\n        console.log('ArrowDown');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n      // this.rect.containse(clientX, e.clientY);\n      _this.mouse.x = e.clientX / window.innerWidth * 2 - 1;\n      _this.mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function () {\n      _this.sprite.x = _this.config.x;\n      _this.sprite.y = _this.config.y;\n      _this.custumSmoothScrollFilter.uniforms.blend = _this.config.blend;\n      _this.custumSmoothScrollFilter.uniforms.offset = _this.config.offset;\n      requestAnimationFrame(_this.animate);\n    });\n\n    return _this;\n  }\n\n  _createClass(SphereSlider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mouse = {\n        x: 0,\n        y: 0\n      };\n      this.PIXI = require('pixi.js');\n      this.width = window.innerWidth;\n      this.height = window.innerHeight;\n      this.app = new this.PIXI.Application({\n        width: this.width,\n        height: this.height,\n        transparent: true,\n        autoResize: true,\n        resizeTo: window,\n        resolution: 1\n      });\n      this.config = {\n        x: this.width / 2,\n        y: this.height / 2,\n        blend: 0,\n        offset: 0,\n        duration: 2.5\n      };\n      this.container = new this.PIXI.Container();\n      this.sprite = new this.PIXI.Sprite(this.PIXI.Texture.from('/1.jpg'));\n      this.sprite.anchor.set(0.5, 0.5);\n      this.sprite.x = this.config.x;\n      this.sprite.y = this.config.y;\n      this.sprite.width = jsImageCover(this.sprite, 400, 550).width;\n      this.sprite.height = jsImageCover(this.sprite, 400, 550).height; // this.rect = new this.PIXI.Rectangle(0, 0, this.width, this.height);\n\n      this.graphics = new this.PIXI.Graphics(); // Rectangle\n\n      this.graphics.alpha = 0;\n      this.graphics.beginFill(0xDE3249);\n      this.graphics.drawRect(0, 0, this.width, this.height);\n      this.graphics.endFill();\n      this.container.addChild(this.graphics);\n      this.container.addChild(this.sprite);\n      this.custumSmoothScrollFilter = new this.PIXI.Filter(null, fragmentSrc, {\n        blend: this.config.blend\n      });\n      this.container.filters = [this.custumSmoothScrollFilter];\n      this.canvas.appendChild(this.app.view);\n      this.app.stage.addChild(this.container);\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('keydown', this.handleKeyDown);\n      this.animate(); // GUI //\n\n      this.dat = require('dat.gui');\n      this.gui = new this.dat.GUI();\n      this.gui.remember(this.config);\n      this.gui.add(this.config, 'blend').min(-1).max(1).step(0.001);\n      ;\n      this.gui.add(this.config, 'offset').min(-1).max(1).step(0.001);\n      ;\n      this.gui.add(this.config, 'x').min(-this.width).max(this.width * 2).step(1);\n      this.gui.add(this.config, 'y').min(-this.height).max(this.height * 2).step(1);\n      this.gui.add(this.config, 'duration').min(0).max(10).step(0.5); // GUI //\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        ref: function ref(node) {\n          _this2.canvas = node;\n        }\n      });\n    }\n  }]);\n\n  return SphereSlider;\n}(React.PureComponent);\n\nexport { SphereSlider as default };","map":null,"metadata":{},"sourceType":"module"}