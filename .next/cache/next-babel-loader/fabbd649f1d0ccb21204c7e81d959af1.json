{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport { Expo, TweenMax } from 'gsap';\nimport * as PIXI from \"pixi.js\";\nimport dsmap from 'images/ds_map.png';\n\nvar ImageBehaviour = function ImageBehaviour(sprite, container) {\n  var _this = this;\n\n  _classCallCheck(this, ImageBehaviour);\n\n  _defineProperty(this, \"addFilter\", function (filters) {\n    if (filters.length === 0) return;\n    _this.container.filters = [];\n    filters.forEach(function (item) {\n      if (item === 'desaturate') {\n        var colorMatrix = new PIXI.filters.ColorMatrixFilter();\n\n        _this.container.filters.push(colorMatrix);\n\n        colorMatrix.desaturate();\n      }\n    });\n  });\n\n  _defineProperty(this, \"addCustumFilter\", function (filter) {\n    _this.sprite.filters = [filter];\n  });\n\n  _defineProperty(this, \"hideFilter\", function (filterName, duration) {\n    if (_this.container.filtersTemp.length === 0 || !_this.container.filters) return;\n    TweenMax.to(_this.container.filters[0].matrix, duration, _this.defaultMatrix);\n  });\n\n  _defineProperty(this, \"removeFilter\", function () {\n    _this.container.filters = [];\n  });\n\n  _defineProperty(this, \"hide\", function (duration, callback) {\n    TweenMax.to(_this.sprite, duration, {\n      alpha: 0,\n      ease: Expo.easeInOut,\n      onComplete: callback\n    });\n  });\n\n  _defineProperty(this, \"show\", function (duration, callback) {\n    TweenMax.to(_this.sprite, duration, {\n      alpha: 1,\n      ease: Expo.easeInOut,\n      onComplete: callback\n    });\n  });\n\n  _defineProperty(this, \"showWithDisplacement\", function (duration, callback) {\n    _this.sprite.filters = [_this.displacementFilter];\n    TweenMax.to(_this.displacementFilter.scale, duration, {\n      x: 1,\n      y: 1,\n      ease: Expo.easeInOut\n    });\n    TweenMax.to(_this.sprite, duration * 0.9, {\n      alpha: 1,\n      ease: Expo.easeInOut,\n      onComplete: function onComplete() {\n        if (callback) {\n          callback();\n        }\n\n        _this.container.removeChild(_this.displacementSprite);\n\n        _this.container.filters = null;\n      }\n    });\n  });\n\n  _defineProperty(this, \"hideWithDisplacement\", function (duration, callback) {\n    var isFrom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    _this.sprite.filters = [_this.displacementFilter];\n\n    if (isFrom) {\n      _this.displacementFilter.scale.x = 1;\n      _this.displacementFilter.scale.y = 1;\n    }\n\n    TweenMax.to(_this.displacementFilter.scale, duration, {\n      x: -5000,\n      y: -5000,\n      ease: Expo.easeInOut,\n      onComplete: function onComplete() {\n        if (callback) {\n          callback();\n        }\n\n        _this.container.filters = null;\n      }\n    });\n    TweenMax.to(_this.sprite, duration, {\n      alpha: 0,\n      ease: Expo.easeInOut,\n      delay: duration * 0.1\n    });\n  });\n\n  this.sprite = sprite;\n  this.container = container;\n\n  if (container.filtersTemp) {\n    this.addFilter(container.filtersTemp);\n  }\n\n  this.displacementSprite = new PIXI.Sprite.from(dsmap); // eslint-disable-line\n\n  this.displacementSprite.width = this.sprite.width;\n  this.displacementSprite.height = this.sprite.height;\n  this.displacementFilter = new PIXI.filters.DisplacementFilter(this.displacementSprite);\n  this.displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n  this.displacementSprite.anchor.set(0.5);\n  this.displacementFilter.rotation = Math.PI / 8;\n  this.defaultMatrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];\n};\n\nexport { ImageBehaviour as default };","map":{"version":3,"sources":["/Users/msi/hello-next/components/SphereSlider/ImageBehaviour.js"],"names":["Expo","TweenMax","PIXI","dsmap","ImageBehaviour","sprite","container","filters","length","forEach","item","colorMatrix","ColorMatrixFilter","push","desaturate","filter","filterName","duration","filtersTemp","to","matrix","defaultMatrix","callback","alpha","ease","easeInOut","onComplete","displacementFilter","scale","x","y","removeChild","displacementSprite","isFrom","delay","addFilter","Sprite","from","width","height","DisplacementFilter","texture","baseTexture","wrapMode","WRAP_MODES","REPEAT","anchor","set","rotation","Math","PI"],"mappings":"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","sourcesContent":["import { Expo, TweenMax } from 'gsap';\nimport * as PIXI from \"pixi.js\";\n\nimport dsmap from 'images/ds_map.png';\n\nexport default class ImageBehaviour {\n  constructor(sprite, container) {\n    this.sprite = sprite;\n    this.container = container;\n    if (container.filtersTemp) {\n      this.addFilter(container.filtersTemp);\n    }\n    this.displacementSprite = new PIXI.Sprite.from(dsmap); // eslint-disable-line\n    this.displacementSprite.width = this.sprite.width;\n    this.displacementSprite.height = this.sprite.height;\n    this.displacementFilter = new PIXI.filters.DisplacementFilter(this.displacementSprite);\n    this.displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n    this.displacementSprite.anchor.set(0.5);\n    this.displacementFilter.rotation = Math.PI / 8;\n    this.defaultMatrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];\n  }\n\n  addFilter = (filters) => {\n    if (filters.length === 0) return;\n    this.container.filters = [];\n    filters.forEach(item => {\n      if (item === 'desaturate') {\n        const colorMatrix = new PIXI.filters.ColorMatrixFilter();\n        this.container.filters.push(colorMatrix);\n        colorMatrix.desaturate();\n      }\n    });\n  };\n\n  addCustumFilter = (filter) => {\n\n    this.sprite.filters = [filter];\n  }\n\n  hideFilter = (filterName, duration) => {\n    if (this.container.filtersTemp.length === 0 || !this.container.filters) return;\n    TweenMax.to(this.container.filters[0].matrix, duration, this.defaultMatrix);};\n\n  removeFilter = () => {\n    this.container.filters = [];\n  };\n\n  hide = (duration, callback) => {\n    TweenMax.to(\n      this.sprite,\n      duration,\n      {\n        alpha: 0,\n        ease: Expo.easeInOut,\n        onComplete: callback,\n      },\n    );\n  };\n\n  show = (duration, callback) => {\n    TweenMax.to(\n      this.sprite,\n      duration,\n      {\n        alpha: 1,\n        ease: Expo.easeInOut,\n        onComplete: callback,\n      },\n    );\n  };\n\n  showWithDisplacement = (duration, callback) => {\n    this.sprite.filters = [this.displacementFilter];\n    TweenMax.to(\n      this.displacementFilter.scale,\n      duration,\n      {\n        x: 1,\n        y: 1,\n        ease: Expo.easeInOut,\n      });\n    TweenMax.to(\n      this.sprite,\n      duration * 0.9,\n      {\n        alpha: 1,\n        ease: Expo.easeInOut,\n        onComplete: () => {\n          if (callback) {\n            callback();\n          }\n          this.container.removeChild(this.displacementSprite);\n          this.container.filters = null;\n        },\n      },\n    );\n  };\n\n  hideWithDisplacement = (duration, callback, isFrom = false) => {\n    this.sprite.filters = [this.displacementFilter];\n    if (isFrom) {\n      this.displacementFilter.scale.x = 1;\n      this.displacementFilter.scale.y = 1;\n    }\n    TweenMax.to(\n      this.displacementFilter.scale,\n      duration,\n      {\n        x: -5000,\n        y: -5000,\n        ease: Expo.easeInOut,\n        onComplete: () => {\n          if (callback) {\n            callback();\n          }\n          this.container.filters = null;\n        },\n      });\n    TweenMax.to(\n      this.sprite,\n      duration,\n      {\n        alpha: 0,\n        ease: Expo.easeInOut,\n        delay: duration * 0.1,\n      },\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}